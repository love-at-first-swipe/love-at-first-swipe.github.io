<html lang="en"
    class="w-mod-js w-mod-ix wf-merriweather-n3-active wf-merriweather-i3-active wf-merriweather-n4-active 
    wf-merriweather-i4-active wf-merriweather-n7-active wf-merriweather-i7-active wf-merriweather-n9-active 
    wf-merriweather-i9-active wf-bitter-n4-active wf-bitter-n7-active wf-bitter-i4-active wf-greatvibes-n4-active wf-active">

<head>
    <style>
        .wf-force-outline-none[tabindex="-1"]:focus {
            outline: none;
        }

        #curtain {
            z-index: 9999;
            position: absolute;
            height: 100vh;
            width: 100vw;
            background-color: #ffe6a6;
            opacity: 100%;
        }

    </style>
    <meta charset="utf-8">
    <title>Gr√°inne and Andy's Wedding</title>
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta property="og:image" content="https://love-at-first-swipe.github.io/images/preview_image.jpeg">
    <!-- <link rel="icon" type="image/x-icon" href="https://love-at-first-swipe.github.io/images/wedding_favicon.png"> -->
    <link href="https://love-at-first-swipe.github.io/static/envelope.css" rel="stylesheet" type="text/css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        @media (min-width:992px) {
            html.w-mod-js:not(.w-mod-ix) [data-w-id="fca72837-7dfb-52cc-413b-ba5e4ea66e78"] {
                -webkit-transform: translate3d(0%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                -moz-transform: translate3d(0%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                -ms-transform: translate3d(0%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                transform: translate3d(0%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
            }

            html.w-mod-js:not(.w-mod-ix) [data-w-id="5511501f-78a3-b0de-7ef1-8565a04a56f0"] {
                -webkit-transform: translate3d(100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                -moz-transform: translate3d(100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                -ms-transform: translate3d(100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                transform: translate3d(100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
            }
        }

        @media (max-width:991px) and (min-width:768px) {
            html.w-mod-js:not(.w-mod-ix) [data-w-id="fca72837-7dfb-52cc-413b-ba5e4ea66e78"] {
                -webkit-transform: translate3d(0%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                -moz-transform: translate3d(0%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                -ms-transform: translate3d(0%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                transform: translate3d(0%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
            }

            html.w-mod-js:not(.w-mod-ix) [data-w-id="5511501f-78a3-b0de-7ef1-8565a04a56f0"] {
                -webkit-transform: translate3d(100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                -moz-transform: translate3d(100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                -ms-transform: translate3d(100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                transform: translate3d(100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
            }
        }

        @media (max-width:767px) and (min-width:480px) {
            html.w-mod-js:not(.w-mod-ix) [data-w-id="fca72837-7dfb-52cc-413b-ba5e4ea66e78"] {
                -webkit-transform: translate3d(null%, 0%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                -moz-transform: translate3d(null%, 0%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                -ms-transform: translate3d(null%, 0%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                transform: translate3d(null%, 0%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
            }

            html.w-mod-js:not(.w-mod-ix) [data-w-id="5511501f-78a3-b0de-7ef1-8565a04a56f0"] {
                -webkit-transform: translate3d(null%, 100%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                -moz-transform: translate3d(null%, 100%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                -ms-transform: translate3d(null%, 100%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                transform: translate3d(null%, 100%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
            }
        }

        @media (max-width:479px) {
            html.w-mod-js:not(.w-mod-ix) [data-w-id="fca72837-7dfb-52cc-413b-ba5e4ea66e78"] {
                -webkit-transform: translate3d(null%, 0%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                -moz-transform: translate3d(null%, 0%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                -ms-transform: translate3d(null%, 0%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                transform: translate3d(null%, 0%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
            }

            html.w-mod-js:not(.w-mod-ix) [data-w-id="5511501f-78a3-b0de-7ef1-8565a04a56f0"] {
                -webkit-transform: translate3d(null%, 100%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                -moz-transform: translate3d(null%, 100%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                -ms-transform: translate3d(null%, 100%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
                transform: translate3d(null%, 100%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);
            }
        }
    </style>
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Merriweather:300,300italic,400,400italic,700,700italic,900,900italic%7CBitter:400,700,400italic%7CGreat+Vibes:400"
        media="all">
    <script
        type="text/javascript">WebFont.load({ google: { families: ["Merriweather:300,300italic,400,400italic,700,700italic,900,900italic", "Bitter:400,700,400italic", "Great Vibes:400"] } });</script>
    <script
        type="text/javascript">!function (o, c) { var n = c.documentElement, t = " w-mod-"; n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch") }(window, document);</script>
    <link rel="icon" type="image/png" href="https://love-at-first-swipe.github.io/images/wedding_favicon.png">
    <link href="https://love-at-first-swipe.github.io/images/wedding_favicon.png" rel="apple-touch-icon">
</head>

<body>
    <div id="curtain"></div>
    <div class="global-styles w-embed">
        <style>
            body {
                min-height: 0vw;
                font-size: calc(0.44642857142857145vw + 0.5982142857142857em);
            }

            /* Max Font Size */
            @media screen and (min-width:1440px) {
                body {
                    font-size: 1em;
                }
            }

            /* Min Font Size */
            @media screen and (max-width:991px) {
                body {
                    font-size: calc(0.10090817356205853vw + 0.75em);
                }
            }

            .main-container {
                max-width: 90em;
            }

            #access-button {
                position: absolute;
                left: 50%;
                bottom: 20px;
                transform: translateX(-50%);
            }

            @media (max-width: 768px) {
                #access-button {
                    bottom: 50px;
                }
            }
        </style>
    </div>
    <div class="page-wrapper">
        <div class="section">
            <div class="main-container w-container" style="height: 100vh;">
                <div class="envelope__list-wrapper w-dyn-list">
                    <div role="list" class="envelope__list w-dyn-items">
                        <div role="listitem" class="envelope__item w-dyn-item">
                            <div data-w-id="fca72837-7dfb-52cc-413b-ba5e4ea66e78"
                                style="opacity: 1; transform: translate3d(0px, 0px, 0px) scale3d(0.85, 0.85, 1) rotateX(0deg) rotateY(0deg) rotateZ(0deg) skew(0deg, 0deg); transform-style: preserve-3d;"
                                class="envelope__wrapper">
                                <div style="filter: brightness(100%); transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(0deg) skew(0deg, 0deg); transform-style: preserve-3d;"
                                    class="envelope__back-wrapper"><!-- Wrapper -->
                                    <div class="envelope__back">
                                        <div style="transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(30deg) skew(0deg, 0deg); transform-style: preserve-3d;"
                                            class="envelope__inner-container">
                                            <div style="opacity: 1;" class="envelope__back-closer-shadow"></div>
                                            <div style="opacity: 0;" class="envelope__back-shadow"></div><!-- <img alt=""
                                                loading="eager" style="display: block;"
                                                src="https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d6f2db791bf963e745fe89_back-combine.webp"
                                                sizes="100vw"
                                                srcset="https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d6f2db791bf963e745fe89_back-combine-p-500.webp 500w, https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d6f2db791bf963e745fe89_back-combine-p-800.webp 800w, https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d6f2db791bf963e745fe89_back-combine.webp 840w"
                                                class="envelope__back-image"> -->
                                                <img alt=""
                                                loading="eager" style="display: block;"
                                                src="https://www.love-at-first-swipe.com/images/front_envelope_background.png"
                                                class="envelope__back-image">
                                                <!-- <img alt="" loading="eager"
                                                style="display: block;"
                                                src="https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d6f2ed6a8d3d568377c768_inside-flap.webp"
                                                sizes="100vw"
                                                srcset="https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d6f2ed6a8d3d568377c768_inside-flap-p-500.webp 500w, https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d6f2ed6a8d3d568377c768_inside-flap-p-800.webp 800w, https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d6f2ed6a8d3d568377c768_inside-flap.webp 840w"
                                                class="envelope__inside-flap-image-2"> -->
                                                <img alt="" loading="eager"
                                                style="display: block;"
                                                src="https://www.love-at-first-swipe.com/images/open_flap_envelope.png"
                                                class="envelope__inside-flap-image-2">
                                        </div>
                                        <div class="envelope__card-wrapper"><!-- OK --><img alt="" loading="eager"
                                                style="display: none;"
                                                src="https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d72151cc456d73eb15c617_lining.webp"
                                                sizes="(max-width: 479px) 95vw, (max-width: 767px) 90vw, (max-width: 954px) 88vw, 840px"
                                                srcset="https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d72151cc456d73eb15c617_lining-p-500.webp 500w, https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d72151cc456d73eb15c617_lining-p-800.webp 800w, https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d72151cc456d73eb15c617_lining.webp 840w"
                                                class="envelope__lining-image">
                                            <div style="transform-style: preserve-3d; transform: translate3d(0px, 0%, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(90deg) skew(0deg, 0deg);"
                                                class="envelope__card-image-wrapper">
                                                    <img alt="" loading="eager"
                                                    src="https://www.love-at-first-swipe.com/images/prefilled_card_image.png"
                                                    class="envelope__card-image">
                                                    <!-- <img alt="" loading="eager"
                                                    src="https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d721fc45f8f0dd134c5c47_card.webp"
                                                    sizes="(max-width: 479px) 90vw, (max-width: 767px) 86vw, (max-width: 991px) 83vw, 798px"
                                                    srcset="https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d721fc45f8f0dd134c5c47_card-p-500.webp 500w, https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d721fc45f8f0dd134c5c47_card-p-800.webp 800w, https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d721fc45f8f0dd134c5c47_card-p-1080.webp 1080w, https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d721fc45f8f0dd134c5c47_card-p-1600.webp 1600w, https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d721fc45f8f0dd134c5c47_card.webp 2000w"
                                                    class="envelope__card-image"> -->
                                            </div><!-- <img alt="" loading="eager" style="display: none;"
                                                src="https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d720e97b4a73259a5ae839_2014.portrait.back.webp"
                                                sizes="(max-width: 479px) 95vw, (max-width: 767px) 90vw, (max-width: 954px) 88vw, 840px"
                                                srcset="https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d720e97b4a73259a5ae839_2014.portrait.back-p-500.webp 500w, https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d720e97b4a73259a5ae839_2014.portrait.back-p-800.webp 800w, https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d720e97b4a73259a5ae839_2014.portrait.back.webp 840w"
                                                class="envelope__back-image-2"> -->
                                                <img alt="" loading="eager" style="display: none;"
                                                src="https://www.love-at-first-swipe.com/images/front_envelope.png"
                                                class="envelope__back-image-2">
                                        </div>
                                        <div style="display: none;" class="envelope__flap-wrapper"><!-- <img alt=""
                                                loading="eager"
                                                style="transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(180deg) rotateY(0deg) rotateZ(0deg) skew(0deg, 0deg); transform-style: preserve-3d;"
                                                src="https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d6f2ed6a8d3d568377c768_inside-flap.webp"
                                                sizes="(max-width: 479px) 95vw, (max-width: 767px) 90vw, (max-width: 954px) 88vw, 840px"
                                                srcset="https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d6f2ed6a8d3d568377c768_inside-flap-p-500.webp 500w, https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d6f2ed6a8d3d568377c768_inside-flap-p-800.webp 800w, https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d6f2ed6a8d3d568377c768_inside-flap.webp 840w"
                                                class="envelope__inside-flap-image"> -->
                                                <img alt=""
                                                loading="eager"
                                                style="transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(180deg) rotateY(0deg) rotateZ(0deg) skew(0deg, 0deg); transform-style: preserve-3d;"
                                                src="https://www.love-at-first-swipe.com/images/open_flap_envelope.png"
                                                class="envelope__inside-flap-image">
                                            <div style="transform-style: preserve-3d; opacity: 0; transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(180deg) rotateY(0deg) rotateZ(0deg) skew(0deg, 0deg);"
                                                class="envelope__flap-shadow-wrapper"><!-- OK --><img
                                                    src="https://cdn.prod.website-files.com/62d2be1149ba53f219cc5224/62d2c6f4919b1472e21e6214_portrait.webp"
                                                    loading="eager" style="opacity: 1;"
                                                    sizes="(max-width: 479px) 95vw, (max-width: 767px) 90vw, (max-width: 954px) 88vw, 840px"
                                                    alt=""
                                                    srcset="https://assets.website-files.com/62d2be1149ba53f219cc5224/62d2c6f4919b1472e21e6214_portrait-p-500.webp 500w, https://assets.website-files.com/62d2be1149ba53f219cc5224/62d2c6f4919b1472e21e6214_portrait.webp 840w"
                                                    class="envelope__flap-shadow-image"></div>
                                            <div style="transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(180deg) rotateY(0deg) rotateZ(0deg) skew(0deg, 0deg); transform-style: preserve-3d;"
                                                class="envelope__back-flap-image-wrapper"><!-- <img alt="" loading="eager"
                                                    src="https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d6f2e24d2d5c923127d1d8_envelope-flap-empty.webp"
                                                    sizes="(max-width: 479px) 95vw, (max-width: 767px) 90vw, (max-width: 954px) 88vw, 840px"
                                                    srcset="https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d6f2e24d2d5c923127d1d8_envelope-flap-empty-p-500.webp 500w, https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d6f2e24d2d5c923127d1d8_envelope-flap-empty-p-800.webp 800w, https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d6f2e24d2d5c923127d1d8_envelope-flap-empty.webp 840w"
                                                    class="envelope__back-flap-image"> -->
                                                    <img alt="" loading="eager"
                                                    src="https://www.love-at-first-swipe.com/images/closed_flap_envelope.png"
                                                    class="envelope__back-flap-image">
                                                <div class="envelope__flap-text">Wedding Invitation</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div style="transform: translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(180deg) rotateZ(0deg) skew(0deg, 0deg); transform-style: preserve-3d; filter: brightness(60%);"
                                    class="envelope__front-wrapper">
                                    <div class="envelope__front"><!-- <img alt="" loading="eager"
                                            src="https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d6f2cfdfe29ecfe9ee8b43_2014.webp"
                                            sizes="(max-width: 479px) 95vw, (max-width: 767px) 90vw, (max-width: 954px) 88vw, 840px"
                                            srcset="https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d6f2cfdfe29ecfe9ee8b43_2014-p-500.webp 500w, https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d6f2cfdfe29ecfe9ee8b43_2014-p-800.webp 800w, https://cdn.prod.website-files.com/62d6ebd44d2d5c78b4277d22/62d6f2cfdfe29ecfe9ee8b43_2014.webp 840w"
                                            class="envelope__front-image"> -->
                                            <img alt="" loading="eager"
                                            src="https://www.love-at-first-swipe.com/images/back_envelope.png"
                                            class="envelope__front-image"><img alt="" loading="eager"
                                            src="https://www.love-at-first-swipe.com/images/stamp.png"
                                            class="envelope__front-stamp">
                                        <div class="envelope__addressee-wrapper">
                                            <div>You're invited<span id="friend-name-comma" class="d-none">,</span></div>
                                            <div id="friend-name-div"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="access-button">
                <button type="button" class="btn btn-dark btn-lg" data-bs-toggle="modal" data-bs-target="#accessModal">Access</button>
            </div>
        </div>
    </div>

    <!-- Access Modal -->
    <div class="modal fade" id="accessModal" tabindex="-1" aria-labelledby="accessModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-bottom-0">
                    <h3 class="modal-title" id="exampleModalLabel">Input access code</h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <input type="text" class="form-control" id="passwordAccessInput">
                    </div>
                </div>
                <div class="modal-footer border-top-0">
                    <button type="button" class="btn btn-dark" id="passwordAccessSubmit">Submit</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=62d2be1149ba53f219cc5224"
        type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous"></script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Self-contained envelope animation script

        document.addEventListener("DOMContentLoaded", () => {
            // Check if cookie exists
            function getCookieValue(name) {
                const regex = new RegExp(`(^| )${name}=([^;]+)`)
                const match = document.cookie.match(regex)
                if (match) {
                    return match[2]
                }
                return null;
            }
            const cookieVal = getCookieValue("access_code");
            if (cookieVal === "success"){
                window.location = "https://www.love-at-first-swipe.com/info";
            }

            // Add guest name
            const params = new URLSearchParams(window.location.search);
            if (params.has('name')) {
                $('#friend-name-comma').removeClass('d-none');
                const prettyName = params.get('name').replace("_"," ");
                const doublePrettyName = prettyName.replace("_"," ");
                const finalName = doublePrettyName.replace(/(^\w{1})|(\s+\w{1})/g, letter => letter.toUpperCase());
                $('#friend-name-div')[0].innerHTML = finalName;
            }

            // Selecting elements
            const envelopeWrapper = document.querySelector(".envelope__wrapper");
            const backFlap = document.querySelector(".envelope__back-flap-image-wrapper");
            const insideFlap1 = document.querySelector(".envelope__inside-flap-image");
            const shadowFlap = document.querySelector(".envelope__flap-shadow-wrapper");
            const insideFlap = document.querySelector(".envelope__inside-flap-image-2");
            const cardWrapper = document.querySelector(".envelope__card-image-wrapper");
            const innerContainer = document.querySelector(".envelope__inner-container");
            const outsideFlap = document.querySelector(".envelope__flap-wrapper");
            const envelopeBack2 = document.querySelector(".envelope__back-image-2");
            const frontWrapper = document.querySelector(".envelope__front-wrapper");
            const curtain = document.querySelector("#curtain");

            // Utility for smooth animations
            function animate({ duration, timing, draw }) {
                const start = performance.now();
                function frame(time) {
                    let timeFraction = (time - start) / duration;
                    if (timeFraction > 1) timeFraction = 1;

                    const progress = timing(timeFraction);
                    draw(progress);

                    if (timeFraction < 1) requestAnimationFrame(frame);
                }
                requestAnimationFrame(frame);
            }

            // Easing function
            function easeInOutQuad(t) {
                return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;
            }

            // Step 0.5: remove curtain
            function removeCurtain() {
                animate({
                    duration: 1000,
                    timing: easeInOutQuad,
                    draw: (progress) => {
                        const opacity = 1 - 1 * progress;
                        curtain.style.opacity = opacity;
                    },
                });
            }

            // Step 1: Start with the front visible
            function showFront() {
                // Ensure the front is facing the user
                envelopeWrapper.style.transform = `rotateY(180deg)`;

                // Reset back flap, inside flap, and card to "closed" positions
                backFlap.style.transform = `rotateX(0deg)`; // Flap closed
                shadowFlap.style.transform = `rotateX(0deg)`; // Shadow closed
                innerContainer.style.transform = 'rotateZ(0deg)';
                outsideFlap.style.display = 'inherit';
                insideFlap.style.display = 'none';
                insideFlap1.style.transform = `rotateX(0deg)`; // Inside flap closed
                cardWrapper.style.transform = `translateY(0px)`; // Card inside the envelope
                envelopeBack2.style.display = 'inherit'; //Show envelope 2 to hide card

            }

            // Step 1.5: Change brightness
            function increaseBrightness() {
                animate({
                    duration: 1000,
                    timing: easeInOutQuad,
                    draw: (progress) => {
                        const brightness = 60 + 40 * progress; // Rotate from 180deg to 0deg
                        frontWrapper.style.filter = `brightness(${brightness}%)`;
                    },
                });
            }

            // Step 2: Flip to the back
            function flipToBack() {
                animate({
                    duration: 1500,
                    timing: easeInOutQuad,
                    draw: (progress) => {
                        const rotation = 180 - 180 * progress; // Rotate from 180deg to 0deg
                        envelopeWrapper.style.transform = `rotateY(${rotation}deg)`;
                    },
                });
            }

            // Step 3: Open the back flap
            function openBackFlap() {
                animate({
                    duration: 1000,
                    timing: easeInOutQuad,
                    draw: (progress) => {
                        const rotation = 180 * progress; // Rotate flap back
                        //backFlap.style.transform = `rotateX(${rotation}deg)`;
                        backFlap.style.transform = `translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(${rotation}deg) rotateY(0deg) rotateZ(0deg) skew(0deg)`;
                        insideFlap1.style.transform = `translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(${rotation}deg) rotateY(0deg) rotateZ(0deg) skew(0deg)`;
                        shadowFlap.style.transform = `translate3d(0px, 0px, 0px) scale3d(1, 1, 1) rotateX(${rotation}deg) rotateY(0deg) rotateZ(0deg) skew(0deg)`;
                    },
                });
            }

            // Step 5: Slide the card up
            function slideCardOut() {
                animate({
                    duration: 800,
                    timing: easeInOutQuad,
                    draw: (progress) => {
                        const translateY = -110 * progress; // Slide up 110px
                        //cardWrapper.style.transform = `translateY(${translateY}px)`;
                        insideFlap.style.display = 'block';
                        outsideFlap.style.display = 'none';
                        cardWrapper.style.transform = `translate3d(0px, ${translateY}%, 0px)`;
                    },
                });
            }

            // Step 5.2: Rotate card
            function rotateCard() {
                animate({
                    duration: 800,
                    timing: easeInOutQuad,
                    draw: (progress) => {
                        const rotateZ = 90 * progress; // Rotate card 90deg
                        envelopeBack2.style.display = 'none';
                        cardWrapper.style.transform = `translate3d(0px, -110%, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(${rotateZ}deg) skew(0deg)`;
                    },
                });
            }

            // Step 5.3: Slide card down
            function slideCardDown() {
                animate({
                    duration: 1500,
                    timing: easeInOutQuad,
                    draw: (progress) => {
                        let vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
                        var scaleFactor;
                        if (vw < 600){
                            scaleFactor = 0.5;
                        } else if (vw < 900) {
                            scaleFactor = 0.3;
                        } else {
                            scaleFactor = 0.05;
                        }
                        const translateY = -110 + 105 * progress; // Slide down to 0px
                        const scaleVal = 1 + scaleFactor * progress;
                        cardWrapper.style.transform = `translate3d(0px, ${translateY}%, 0px) scale3d(${scaleVal}, ${scaleVal}, ${scaleVal}) rotateX(0deg) rotateY(0deg) rotateZ(90deg) skew(0deg)`;
                    },
                });
            }

            // Execute the animation sequence
            function runAnimationSequence() {
                showFront(); // Step 1: Start with the front visible 
                setTimeout(() => increaseBrightness(), 0); // Step 1.5: Increase brightness
                setTimeout(() => removeCurtain(), 1000); // Step 1.5: remove curtain
                setTimeout(() => flipToBack(), 3000); // Step 2: Flip to the back
                setTimeout(() => openBackFlap(), 5000); // Step 3: Open the back flap
                setTimeout(() => slideCardOut(), 5800); // Step 5: Slide the card up
                setTimeout(() => rotateCard(), 6600); // Step 5.2: Rotate the card
                setTimeout(() => slideCardDown(), 7400); // Step 5.3: Slide the card down
            }

            function waitForDomImagesToLoad(images) {
                const imagePromises = Array.from(images).map(img =>
                    new Promise((resolve, reject) => {
                    if (img.complete && img.naturalHeight !== 0) {
                        resolve(); // Already loaded
                    } else {
                        img.onload = () => resolve(); // Wait for load
                        img.onerror = () => reject(new Error(`Failed to load image: ${img.src}`));
                    }
                    })
                );

                return Promise.all(imagePromises);
            }

            const images = document.querySelectorAll('img');
            waitForDomImagesToLoad(images)
                .then(() => {
                    console.log('All DOM images loaded!');
                    // Continue with your code
                    // Start the sequence
                    runAnimationSequence();
                })
                .catch(error => {
                    console.error('An image failed to load:', error);
            });

            // Add access submit stuff
            $('#passwordAccessSubmit').on('click',function(){
                const accessCode = $('#passwordAccessInput')[0].value.trim();
                validateAccessCode(accessCode);
            });

            async function hashString(input) {
                const encoder = new TextEncoder();
                const data = encoder.encode(input);
                const hashBuffer = await window.crypto.subtle.digest('SHA-256', data); // Use window.crypto.subtle
                const hashArray = Array.from(new Uint8Array(hashBuffer));
                return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
            }

            async function validateAccessCode(inputAccess) {
                const hashedCode = await hashString(inputAccess);
                if (hashedCode === "cc40535afbe674fe860b3ad62151081c47a6ef6feabb7492eaf9596c857b70e4"){
                    document.cookie = "access_code=success";
                    window.location = "https://www.love-at-first-swipe.com/info";
                }
            }
        });
    </script>
    <!-- <script src="https://assets.website-files.com/62d2be1149ba53f219cc5224/js/webflow.65a548a08.js"
        type="module"></script> -->
</body>

</html>